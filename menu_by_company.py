from code_map import code_map

menus = {
    "쓰리뷰": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "MV"},
            {"name": "PLC", "child": [
                {"name": "현황"},
                {"name": "차트"},
                {"name": "기록"},
                {"name": "알람"},
                {"name": "알람 코드"},
            ]},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "분전반", "child": [
                {"name": "현황"},
                {"name": "기록"},
                {"name": "차트"},
            ]},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
            {"name": "주간 리포트"},
            {"name": "월간 리포트"},
        ]
    },
    "대양볼트": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "MV"},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
            {"name": "주간 리포트"},
            {"name": "월간 리포트"},
        ]
    },
    "보원메탈": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "ESG"},
            ]},
            {"name": "MV"},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"}
        ]
    },
    "보원오토텍": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "ESG"},
            ]},
            {"name": "MV"},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
            {"name": "주간 리포트"},
            {"name": "월간 리포트"},
        ]
    },
    "삼진정공": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "MV"},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
            {"name": "주간 리포트"},
            {"name": "월간 리포트"},
        ]
    },
    "삼진정공_전주": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "ESG"},
            ]},
            {"name": "MV"},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
            {"name": "월간 리포트"},
        ]
    },
    "선일다이파스": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "MV"},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "에스제이에프": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "MV"},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "에스탑":{
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "MV"},
            {"name": "PLC", "child": [
                {"name": "현황"},
                {"name": "차트"},
                {"name": "기록"},
                {"name": "알람"},
                {"name": "알람 코드"},
            ]},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "우성포마": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "MV"},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "정원금속": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "MV"},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "케이에너지세이브(주)": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "ESG"},
            ]},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "텔스타": {
        "name": "루트", "child": [
            {"name": "분전반", "child": [
                {"name": "현황"},
                {"name": "기록"},
                {"name": "차트"},
                {"name": "한전", "child":[
                    {"name": "현황"},
                    {"name": "기록"},
                ]},
            ]},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "효동 기계": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "ESG"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "효진": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "Metaltork": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "ESG"},
            ]},
            {"name": "MV"},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "NAGANO": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "MV"},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "SRA": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "MV"},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    },
    "TAIYO_NUT": {
        "name": "루트", "child": [
            {"name": "홈"},
            {"name": "차트", "child": [
                {"name": "설비"},
                {"name": "ESG"},
                {"name": "생산"},
            ]},
            {"name": "MV"},
            {"name": "설비", "child": [
                {"name": "분석"},
            ]},
            {"name": "기록"},
            {"name": "설정", "child": [
                {"name": "설비"},
                {"name": "터미널"},
                {"name": "센서"},
                {"name": "데이터 타입"},
                {"name": "공장"},
                {"name": "회사"},
                {"name": "분전반", "child": [
                    {"name": "분전반 관리"},
                    {"name": "분전반-설비 관리"},
                    {"name": "목표 Peak 관리"},
                ]},
                {"name": "사용자"},
                {"name": "알림"},
                {"name": "모바일 기기"},
                {"name": "앱 설정"},
            ]},
            {"name": "사용자 정보"},
        ]
    }
}


def dfs_collect(node, result=None, path=None):
    if result is None:
        result = []
    if path is None:
        path = []
        
    # Add current node info
    current = {
        'name': node['name'],
        'path': path.copy(),
        'depth': len(path)
    }
    result.append(current)
    
    # Traverse children
    if "child" in node:
        for child in node["child"]:
            path.append(node['name'])
            dfs_collect(child, result, path)
            path.pop()
            
    return result

# Collect all nodes with their paths
nodes = dfs_collect(menus['쓰리뷰'])

for node in nodes:
    print(code_map[node['name']])
    print(f"{'  ' * node['depth']}- {node['name']} (Path: {' > '.join(node['path'])})")